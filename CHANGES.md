Second 3.x beta release.

- Expose matching rules through an iterator, not a separate array

- Add basepath support
